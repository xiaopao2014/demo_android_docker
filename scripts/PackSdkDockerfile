FROM openjdk:8
LABEL maintainer = "linliangbin"

LABEL version = "1.0"

LABEL description = "This is a docker image for build android application which include: \n1.AndroidSDK\n2.AndroidNDK\n3.Gradle 5.4.1"

WORKDIR /root/
RUN pwd
	
ENV GRADLE_VERSION=gradle-5.4.1 
ENV GRADLE_DOWNLOAD_VERSION=${GRADLE_VERSION}-all \
	GRADLE_HOME=.gradle \
	GRADLE_DISTRIBUTION_PATH=wrapper/dists 
	
ENV	GRADLE_DOWNLOAD_URL=https://services.gradle.org/distributions/${GRADLE_DOWNLOAD_VERSION}.zip \
	GRADLE_MD5="3221gyojl5jsh0helicew7rwx"
	
RUN set -o errexit -o nounset \
	&& mkdir -p "${GRADLE_HOME}/${GRADLE_DISTRIBUTION_PATH}/${GRADLE_DOWNLOAD_VERSION}/${GRADLE_MD5}"  \
	&& cd ${GRADLE_HOME}/${GRADLE_DISTRIBUTION_PATH}/${GRADLE_DOWNLOAD_VERSION}/${GRADLE_MD5} \
	&& pwd \
    && echo "Downloading Gradle" \
	&& echo ${GRADLE_DOWNLOAD_URL} \
    && wget --output-document=gradle.zip ${GRADLE_DOWNLOAD_URL} \
    && echo "Installing Gradle" \
    && unzip gradle.zip \
	&& ls \
	&& pwd \
	&& echo ${GRADLE_HOME}/${GRADLE_DISTRIBUTION_PATH}/${GRADLE_DOWNLOAD_VERSION}/${GRADLE_MD5}/${GRADLE_VERSION}/bin/gradle \
    && ln --symbolic "/root/${GRADLE_HOME}/${GRADLE_DISTRIBUTION_PATH}/${GRADLE_DOWNLOAD_VERSION}/${GRADLE_MD5}/${GRADLE_VERSION}/bin/gradle" /usr/bin/gradle \
    && echo "Testing Gradle installation" \
    && gradle --version 
#	&& /root/${GRADLE_HOME}/${GRADLE_DISTRIBUTION_PATH}/${GRADLE_DOWNLOAD_VERSION}/${GRADLE_MD5}/${GRADLE_VERSION}/bin/gradle --version


RUN mkdir /application
WORKDIR /application
